<?xml version="1.0" encoding="UTF-8"?> <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:th="http://www.thymeleaf.org" xml:lang="en" lang="en">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/settingsStyle.css}" rel="stylesheet"/>
    <link th:href="@{/css/modalStyle.css}" rel="stylesheet"/>
    <title>Title</title>
    <title th:replace="fragments/bootstrap :: header"></title>
</head>
<body>
    <div class="container-fluid p-0 d-flex flex-row justify-content-center main-container">
        <div class="d-flex flex-column justify-content-center">
            <div class="form-container p-3">
                <form th:action="@{/settings}" th:object="${account}" class="text-white" method="post">

                    <div class="d-flex flex-row justify-content-between ml-2">
                        <p class="h1">SETTINGS</p>

                        <a th:href="@{/main}">
                            <i class='material-icons text-white top-bar-icon'>close</i>
                        </a>
                    </div>

                    <hr/>

                    <p class="h5 ml-2">Change Account-Info</p>

                    <div class="form-group input-container">
                        <label for="nameInput" class="input-label">Name</label>
                        <input type="text" class="form-control input-field" id="nameInput" th:text="*{name}" th:field="*{name}" th:placeholder="${name}">

                        <div th:if="${triedToChangeUsername}">
                            <div th:if="${changedUsername}" class="d-flex d-row ml-2 mt-1 input-success">
                                Username was successfully changed.
                            </div>

                            <div th:unless="${changedUsername}" class="d-flex d-row ml-2 mt-1 input-error">
                                Failed. Username already exists
                            </div>
                        </div>
                    </div>

                    <div class="form-group input-container">
                        <label for="emailInput" class="input-label">E-Mail</label>
                        <input type="email" class="form-control input-field" id="emailInput" th:text="*{email}" th:field="*{email}" th:placeholder="${email}">

                        <div th:if="${triedToChangeEmail}">
                            <div th:if="${changedEmail}" class="d-flex d-row ml-2 mt-1 input-success">
                                Email was successfully changed.
                            </div>

                            <div th:unless="${changedEmail}" class="d-flex d-row ml-2 mt-1 input-error">
                                Failed. Email already exists
                            </div>
                        </div>
                    </div>

                    <div class="form-group input-container">
                        <label for="passwordInput" class="input-label">Password</label>
                        <input readonly onfocus="this.removeAttribute('readonly');" type="password" placeholder="To be implemented"  disabled th:field="*{password}" class="form-control input-field" id="passwordInput">
                    </div>

                    <div class="d-flex flex-row justify-content-around">
                        <a class="btn btn-danger" data-toggle="modal" data-target="#confirmationModal">Delete Account</a>
                    </div>

                    <!-- Modal -->
                    <div class="modal fade modal-background" id="confirmationModal" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content modal-container">
                                <div class="modal-header modal-fragment">
                                    <h3 class="modal-title ml-2" id="exampleModalLabel">WHOA THERE</h3>
                                    <button type="button" class="close" data-dismiss="modal">
                                        <i class='material-icons text-white'>close</i>
                                    </button>
                                </div>
                                <div class="modal-body modal-text ml-3 mr-3">
                                    Once you delete your account there is no going back.
                                    <br>
                                    Make sure you really want to do this.
                                </div>
                                <div class="modal-footer modal-fragment d-flex flex-row justify-content-around col-12" role="group">
                                    <a class="btn btn-danger col-5" th:href="@{/deleteAccount}">Delete</a>
                                    <button type="button" class="btn btn-secondary col-5" data-dismiss="modal">Cancel</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr/>

                    <p class="h5 ml-2">Retrogram</p>

                    <div class="form-group input-container">
                        <label for="retrogramInput" class="input-label">Token</label>
                        <input type="text" class="form-control input-field" id="retrogramInput" placeholder="To be implemented" disabled th:field="*{securityToken}">
                    </div>

                    <hr/>

                    <button type="submit" class="btn btn-block btn-success">Save</button>

                </form>
            </div>
        </div>
    </div>
</body>
</html>